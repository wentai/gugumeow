<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Analog Clock</title>
</head>
<body>
<script src="https://d3js.org/d3.v3.min.js"></script>
<script>

function clock(){

    // remove svg repeat
    d3.select('svg').remove();

	// set svg
	var width = 200;
	var height = 200;
	var svg = d3.select('body')
	            .append('svg')
	            .attr('width', width)
	            .attr('height', height);
	// center circle
	svg.append('circle')
	   .attr('cx', '100px')
	   .attr('cy', '100px')
	   .attr('r', '3px')
	   .attr('fill', 'black');

	for(var i=0; i<12; i++){
		svg.append('circle')
		   .attr('cx', '100px')
		   .attr('cy', '50px')
		   .attr('r', '2px')
		   .attr('fill', 'black')
		   .attr('transform', 'rotate(' +30*(i+1)+ ' 100 100)');
	}

	// clear
    clearTimeout(timer);

	// now
	var now = new Date();
	var hh = now.getHours() % 12;
	var mm = now.getMinutes();
	var ss = now.getSeconds();
	console.log(hh+':'+mm+':'+ss);

	// secondHand
	svg.append('line')
	   .attr('x1', 100)
	   .attr('y1', 100)
	   .attr('x2', 100)
	   .attr('y2', 53)
	   .style('stroke', 'black')
	   .style('stroke-width', 1)
	   .attr('transform', 'rotate('+ ss*6 +' 100 100)');
	// minuteHand
	svg.append('line')
	   .attr('x1', 100)
	   .attr('y1', 100)
	   .attr('x2', 100)
	   .attr('y2', 60)
	   .style('stroke', 'black')
	   .style('stroke-width', 2)
	   .attr('transform', 'rotate('+ (mm*6+ss/10) +' 100 100)');
    // hourHand
	svg.append('line')
	   .attr('x1', 100)
	   .attr('y1', 100)
	   .attr('x2', 100)
	   .attr('y2', 75)
	   .style('stroke', 'black')
	   .style('stroke-width', 3)
	   .attr('transform', 'rotate('+ (hh*30+mm/2+ss/120) +' 100 100)');	

	var timer = setTimeout(clock, 1000);
}

clock();

</script>	
</body>
</html>